<div class="main-content">
  <div class="content-header">
    <h1>Create New Post</h1>
  </div>

  <div class="create-post-container">
    <div class="form-group">
      <label for="title">Title</label>
      <input
        type="text"
        id="title"
        [(ngModel)]="post.title"
        class="form-control"
        required
      >
      <span class="helper-text">Enter a descriptive title for your post</span>
    </div>
    <div class="form-group">
      <label for="content">Content (Markdown supported)</label>
      <textarea
        id="content"
        [(ngModel)]="post.content"
        class="form-control"
        rows="6"
        required
      ></textarea>
      <span class="helper-text">Write your post content, supports markdown formatting</span>
    </div>
    <div class="form-group">
      <label for="tags">Tags (comma-separated)</label>
      <input
        type="text"
        id="tags"
        [(ngModel)]="post.tags"
        class="form-control"
      >
      <span class="helper-text">Add up to 5 tags, e.g., javascript, angular</span>
    </div>
    <div class="form-group">
      <label for="images">Images (up to 5)</label>
      <input
        type="file"
        id="images"
        (change)="onFileChange($event)"
        class="form-control"
        accept="image/*"
        multiple
      >
      <div class="image-preview-container" *ngIf="imagePreviews.length > 0">
        <div *ngFor="let preview of imagePreviews; let i = index" class="image-preview">
          <img [src]="preview" alt="Image preview" />
          <button class="remove-image" (click)="removeImage(i)">Remove</button>
        </div>
      </div>
      <span class="helper-text">Upload images to enhance your post (JPEG, PNG)</span>
    </div>
    <div class="form-group">
      <label>Code Snippets</label>
      <div *ngFor="let snippet of post.codeSnippets; let i = index" class="code-snippet">
        <div class="code-header">
          <select title="form" [(ngModel)]="snippet.language" class="language-select">
            <option value="javascript">JavaScript</option>
            <option value="python">Python</option>
            <option value="java">Java</option>
            <option value="cpp">C++</option>
          </select>
          <button class="remove-snippet" (click)="removeSnippet(i)">Remove</button>
        </div>
        <textarea
          [(ngModel)]="snippet.code"
          class="form-control"
          rows="4"
          placeholder="Enter your code here"
        ></textarea>
      </div>
      <button class="btn btn-secondary" (click)="addSnippet()">Add Code Snippet</button>
    </div>
    <button
      (click)="createPost()"
      class="btn btn-primary"
      [disabled]="!post.title || !post.content"
    >
      Publish
    </button>
    <span class="helper-text">Submit your post to share it with the community</span>
  </div>
</div>
